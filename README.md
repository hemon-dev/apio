# apio

## Introduction
This application serves the boiler plate to kick start **API** based Project/Application.
Application has been structured closely to MVC but the focus of this application is on API development hence not dealing with any kind of view.
The application uses **MongoDB** as data sources, however you can change it to Mysql or any other driver and some few modification in script in order to make it work.

Below is the structure of an application which holds major scripts

* api:
  * controller
  * model
  * middlewares
  * validators
  
## Installation/Setup

```bash
* Clone the application
* cd into application directory using terminal and run $ npm install
* Rename .env.example to .env
* Set constant MONGO_CONNECT = mongodb://localhost:27017/apio into .env or any url as per requirement.
* Set constant TOKEN_SECRET = yeg27bdh7253vsnms935gdcanfk into .env or any random string as per requirement.
* $ npm run server to start the server
```

## Running/Testing application

Below are the API to run and test the application.

* Method: POST, URL: http://127.0.0.1:5000/api/user/register
    ```js
    // POST PARAMS
    {
        "first_name": "ABCD",
        "last_name": "PQRS",
        "email": "abc@example.com",
        "password": "secretepswd"
    }
    // RETURN AN USER ID
    ```
* Method: POST, URL: http://127.0.0.1:5000/api/user/login
    ```js
    // POST PARAMS
    {
        "email": "abc@example.com",
        "password": "secretepswd"
    }
    // RETURN AUTHENTICATION TOKEN
    ```
    Above login request sets auth-token header to returned authentication token which is then used to authorize other request.

* Method: GET, URL: http://127.0.0.1:5000/api/users
    * Set header auth-token to the value of authentication token generated by previous login request
    ```js
    // Headers
    {
        "auth-token": "auth-token-from-login-request",
        "Content-Type": "application/json"
    }
    // RETURNS ALL USERS
    ```
    You can use the postman to test above APIs.